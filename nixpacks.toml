# nixpacks.toml
# NOTA: Este arquivo é usado apenas se o Railway usar Nixpacks (modo legado)
# O Railway agora usa RAILPACK por padrão, que lê o railway.json

# Configuração da versão do Node.js para 22
[phases.setup]
nixPkgs = ["nodejs_22"]

# Configuração do gerenciador de pacotes para npm
[phases.install]
cmd = "npm install"

# Configuração de cache
[phases.install.cache]
paths = ["node_modules"]

# Comando de build
[phases.build]
cmd = "npm run build"

# Comando de start
[start]
cmd = "node dist-server/index.cjs"
